<div style="position: absolute;z-index: -1;top: 10%;bottom: 0;left:0;right: 0;background: url('/assets/img/poulinagh.png') center center;
opacity: 0.5;width: 100%;height: 100%;background-repeat: no-repeat;background-size: cover;">

</div>

<div class="main-content" >    
    
    <h1 style=" font-weight: bold;color:#c93a3a;font-size: 60px;">Interventions <img src="/assets/img/409_tool_outline.gif" 
        style="max-height: 90px;"/></h1>

<div class="row">
    <div class="col-lg-1" >
    </div>
    <div class="col-lg-10" >
  <div class="mycontainer">
    <input type="text" placeholder="Chercher...." 
    (input)="dt.filterGlobal($event.target.value,'contains')">
    <div class="mysearch"></div>
  </div>
    </div>
</div>

     <br>

     <mat-tab-group mat-stretch-tabs class="example-stretched-tabs mat-elevation-z4">
<!-- *************************************tab1******************************* -->
        <mat-tab label="Inachevées" >

            <p-table  [globalFilterFields]="['date_intervention']"  #dt [paginator]="true" [rows]="5" [value]="interventionsnonachevee">
                <ng-template pTemplate="caption">
                 
                </ng-template>
  
                   <ng-template pTemplate="header">
 
                       <tr>
                
                           <th [pSortableColumn]="'date_intervention'" style="font-size: 15px;">Date Intervention<p-sortIcon [field]="'date_intervention'"></p-sortIcon></th>  
                           <th  style="width: 70px;font-size: 15px;">Durée</th>  
                           <th style="font-size: 15px;">Description</th>  
                           <th style="font-size: 15px;">Etat</th>  
                           <th style="font-size: 15px;">DateFin</th>  
            
                           <th style="font-size: 15px;" *ngIf="isAdmin">Actions</th>
            
                       </tr>
               
                   </ng-template>
             
                   <ng-template pTemplate="body" let-intervention>
              
                       <tr>
                            
                           <td style="font-size: 15px;">{{intervention.date_intervention}}</td>
                           <td style="font-size: 15px;">{{intervention.duree}}</td>
                           <td style="font-size: 15px;">{{intervention.description_intervention}}</td>
                           <td style="font-size: 15px;">{{intervention.etatIntervention}}</td>
                           <td style="font-size: 15px;">{{intervention.dateFin}}</td>
            
                            <td style="text-align: center;" *ngIf="isAdmin">
                            <button id="b1" mat-fab color="primary" (click)="ValiderIntervention(intervention)" style="background-color: green;">
                            <mat-icon><i class="fa fa-thumbs-up" aria-hidden="true" style="font-size: 25px;"></i></mat-icon></button>
                              &nbsp;
                            <button id="b2" mat-fab color="primary" (click)="echecIntervention(intervention)" style="background-color: red;">
                            <mat-icon><i class="fa fa-exclamation-circle" aria-hidden="true" style="font-size: 25px;"></i></mat-icon></button>
                             &nbsp;
                            <button id="b3" mat-fab color="primary" (click)="prolongerIntervention(intervention)" style="background-color: orange;">
                                <mat-icon><i class="fa fa-plus-square" aria-hidden="true" style="font-size: 25px;"></i></mat-icon></button>
                              
            
                            </td>  

                       </tr>
                   </ng-template>
              
                 </p-table>


        </mat-tab>
<!-- **********************************tab2**********************************************-->
        <mat-tab label="Achevées"> 


            <p-table  [globalFilterFields]="['date_intervention']"  #dt [paginator]="true" [rows]="5" [value]="interventionsachevee">
                <ng-template pTemplate="caption">
                 
                </ng-template>

       <ng-template pTemplate="header">
        
   
                       <tr>
                
                           <th [pSortableColumn]="'date_intervention'" style="font-size: 15px;">Date Intervention<p-sortIcon [field]="'date_intervention'"></p-sortIcon></th>  
                           <th style="font-size: 15px;">Durée</th>  
                           <th style="font-size: 15px;">Description</th>  
                           <th style="font-size: 15px;">Etat</th>  
                           <th style="font-size: 15px;">DateFin</th>
            
                       </tr>
               
                   </ng-template>
             
                   <ng-template pTemplate="body" let-intervention>
              
                       <tr>
                            
                           <td style="font-size: 15px;">{{intervention.date_intervention}}</td>
                           <td style="font-size: 15px;">{{intervention.duree}}</td>
                           <td style="font-size: 15px;">{{intervention.description_intervention}}</td>
                           <td style="font-size: 15px;">{{intervention.etatIntervention}}</td>
                           <td style="font-size: 15px;">{{intervention.dateFin}}</td>

            
                       </tr>
                   </ng-template>
              
                 </p-table>


        </mat-tab>
       
      </mat-tab-group>




 
 
 </div>